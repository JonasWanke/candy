[ifElse, int, recurse] = use "...Core"

fibonacci n =
  needs (int.is n)
  recurse n { rec n ->
    ifElse (n | int.isLessThan 2) { n } {
      rec (n | int.subtract 1)
      | int.add (rec (n | int.subtract 2))
    }
  }

main environment := fibonacci 15 # 610
