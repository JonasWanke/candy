core = use "...Core"
ifElse = core.ifElse
int = core.int

fibRec = { fibRec n ->
  ifElse (n | int.isLessThan 2) { n } {
    fibRec fibRec (n | int.subtract 1)
    | int.add (fibRec fibRec (n | int.subtract 2))
  }
}
fib n =
  needs (int.is n)
  fibRec fibRec n
twentyOne := fib 8

main environment := Nothing
