[ifElse, int] = use "...Core"

fibonacciRec = { fibonacciRec n ->
  ifElse (n | int.isLessThan 2) { n } {
    fibonacciRec fibonacciRec (n | int.subtract 1)
    | int.add (fibonacciRec fibonacciRec (n | int.subtract 2))
  }
}
fibonacci n =
  needs (int.is n)
  fibonacciRec fibonacciRec n

main environment := fibonacci 15 # 610
