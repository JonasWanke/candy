use ..context
use ..query

fun main() {
  let context = QueryContext.create()
  for i in List.of5<Int>(1, -2, 1, -2, 3) {
    print("Is {i} positive?")
    print("Result: {isPositive(context, i)}")
  }
}

fun isPositive(context: QueryContext, input: Int): Bool {
  query<Bool>(context, "isPositive", input as (Equals & Hash), {
    print("Doing expensive computation: isPositive({input})")
    input > 0
  })
}
