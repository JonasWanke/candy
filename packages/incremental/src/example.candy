use ..context
use ..query

fun main() {
  let context = QueryContext.create()
  for i in List.of4<Int>(1, -2, 1, -2) {
    print("Is {i} positive? {isPositive(context, i)}")
  }
}

fun isPositive(context: QueryContext, input: Int): Bool {
  query<Bool>(context, "isPositive", input as Equals & Hash, {
    print("Doing expensive computation.")
    input > 0
  })
}
