# AST for module Examples:higherLower

assignment: struct
  identifier $6@"async"
  identifier $8@"await"
  identifier $10@"channel"
  identifier $12@"equals"
  identifier $14@"ifElse"
  identifier $16@"int"
  identifier $18@"loop"
  identifier $20@"result"
  symbol $22@"Function": struct
    identifier $24@"run"
  identifier $27@"text" = 
  call identifier $0@"use" with these arguments:
    text
      textPart $2@"Core"
assignment: identifier $195@"main" := 
  function (non-fuzzable) { $31@"environment" ->
    assignment: $54@"print" = function (fuzzable) { $55@"message" ->
      call identifier $32@"needs" with these arguments:
        call struct access identifier $34@"text".$36@"Is" with these arguments:
          identifier $38@"message"
      call struct access identifier $46@"channel".$48@"Send" with these arguments:
        struct access identifier $42@"environment".$44@"Stdout"
        identifier $50@"message"
    }
    assignment: identifier $88@"read" = 
      function (non-fuzzable) {
        assignment: identifier $63@"response" = 
          call struct access identifier $57@"channel".$59@"Create" with these arguments:
            int 1
        call struct access identifier $70@"channel".$72@"Send" with these arguments:
          struct access identifier $66@"environment".$68@"Stdin"
          struct access identifier $74@"response".$76@"SendPort"
        call identifier $80@"await" with these arguments:
          struct access identifier $82@"response".$84@"ReceivePort"
      }
    call identifier $91@"print" with these arguments:
      text
        textPart $93@"Welcome to the number guessing game!"
    assignment: identifier $98@"correct" = 
      int 42
    call identifier $101@"loop" with these arguments:
      function (non-fuzzable) {
        call identifier $103@"print" with these arguments:
          text
            textPart $105@"What's your guess?"
        assignment: identifier $124@"guess" = 
          call struct access identifier $119@"int".$121@"Parse" with these arguments:
            call struct access identifier $114@"text".$116@"Trim" with these arguments:
              call identifier $109@"run" with these arguments:
                identifier $111@"read"
        call struct access identifier $129@"result".$131@"MapOrElse" with these arguments:
          identifier $127@"guess"
          function (non-fuzzable) { $133@"guess" ->
            call identifier $134@"ifElse" with these arguments:
              call identifier $136@"equals" with these arguments:
                identifier $138@"guess"
                identifier $140@"correct"
              function (non-fuzzable) {
                call identifier $143@"print" with these arguments:
                  text
                    textPart $145@"You did it!"
                symbol $149@"Break"
              }
              function (non-fuzzable) {
                call identifier $152@"print" with these arguments:
                  call identifier $154@"ifElse" with these arguments:
                    call struct access identifier $156@"int".$158@"IsLessThan" with these arguments:
                      identifier $160@"correct"
                      identifier $162@"guess"
                    function (non-fuzzable) {
                      text
                        textPart $165@"Lower!"
                    }
                    function (non-fuzzable) {
                      text
                        textPart $169@"Higher!"
                    }
                symbol $175@"Continue"
              }
          }
          function (non-fuzzable) { $180@"error" ->
            call identifier $181@"print" with these arguments:
              text
                textPart $183@"Your guess must be a number."
            symbol $187@"Continue"
          }
      }
  }
