use ..Bool
use ..Operators
use ..Panic
use ..Primitives

impl[T] Maybe[T] {
  public fun do(body: (T) -> Nothing) { this.map[Nothing](body) }
}

impl[T: Hash] Maybe[T]: Hash {
  fun hash[H: Hasher](): H {
    this.match[H](
      some = { H.combine(List[H].of(H.primitive(1), it.hash[H]())) },
      none = { H.primitive(0) }
    )
  }
}
